<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="After subversion but before Git there was SVK. If you are stuck using subversion do yourself a favor and use svk.">
<meta name="keywords" content="Development, Systems, git, subversion, svk, svn, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content="After subversion but before Git there was SVK. If you are stuck using subversion do yourself a favor and use svk."/>
<meta property="og:title" content="Using SVK to Increase Productivity : spf13.com"/>
<meta property="og:site_name" content="spf13 is Steve Francia"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://jlab.github.io/post/using-svk-to-increase-productivity/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2008-08-23"/>
<meta property="article:modified_time" content="2008-08-23"/>



<meta property="article:tag" content="Development">
<meta property="article:tag" content="Systems">
<meta property="article:tag" content="git">
<meta property="article:tag" content="subversion">
<meta property="article:tag" content="svk">
<meta property="article:tag" content="svn">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@spf13">
<meta name="twitter:title" content="Using SVK to Increase Productivity : spf13.com">
<meta name="twitter:creator" content="@spf13">
<meta name="twitter:description" content="After subversion but before Git there was SVK. If you are stuck using subversion do yourself a favor and use svk.">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="spf13.com">



    <base href="http://jlab.github.io/">
    <title> Using SVK to Increase Productivity - spf13.com </title>
    <link rel="canonical" href="http://jlab.github.io/post/using-svk-to-increase-productivity/">
    

    <link href='https://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="http://jlab.github.io/css/ZGS.min.8b403dad8c58a1830355fb210b5ead5e5472e11a4e5d7bfe5ee2931e6a2c54e8.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <figure>
      <a href="/" border=0 id="logolink"><div class="icon-spf13-3" id="logo"> </div></a>
    </figure>
    <nav id="nav">
            <ul id="mainnav">
            <li>
                <a href="/post/">
                <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
                <span> articles </span>
            </a>
            </li>
            <li>
            <a href="/project/">
                <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
                <span> projects </span>
            </a>
            </li>
            <li>
            <a href="/presentation/">
                <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
                <span> presentations </span>
            </a>
            </li>
        </ul>

            <ul id="social">
            <li id="follow">
                <span class="title"> follow </span>
                <div class="dropdown follow">
                    <ul class="social">
                        <li> <a href="https://feeds.feedburner.com/spf13" target="_blank" title="Subscribe by RSS" class="rss"><span class="icon icon-feed-2"></span>RSS</a> </li>
                        <li> <a href="https://www.twitter.com/spf13" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        <li> <a href="https://www.facebook.com/stevefrancia" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="https://www.linkedin.com/in/stevefrancia" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                        <li> <a href="https://github.com/spf13" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>
                        <li> <a href="https://slideshare.com/spf13" target="_blank" title="SlideShare" class="slideshare"><span class="icon icon-slideshare"></span>SlideShare</a> </li>
                    </ul>
                    <span class="subcount">join 40k+ subscribers &amp; followers</span>
                </div>
            </li>
        </ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title">Using SVK to Increase Productivity</h1>
  <div>
        <article itemprop="articleBody" id="content">
           <p>SVK is a client for SVN built using perl. It makes a number of
improvements over the standard svn client, while retaining much of the
same feel. It works with the standard Subversion server and works
perfectly in an environment with some users using svn and some using svk
on the client side. It provides a number of sizable advantages over the
standard svn client and is a must have for any development project.</p>
<p><em>UPDATE: It’s been a while since this article was written and while
still accurate, do yourself a favor and go use
<a href="http://git-scm.com">Git</a>.</em></p>
<p>There are three things <a href="http://en.wikipedia.org/wiki/SVK" title="SVK">SVK</a>
provides that are particularly noteworthy.</p>
<ol>
<li>
<p>Tracks all branching making the process of pulling and pushing
changes between trunk and branch very easy.</p>
</li>
<li>
<p>Optionally adds another layer to the mix.
While <a href="http://subversion.tigris.org/" title="Subversion software">Subversion</a>
has Repo and Working Copy, SVK has Repo (svn server) Depot (local
mirror) and Working Copy (where you work). This provides two main
features.</p>
<ol>
<li>Works offline</li>
<li>You can commit changes to the depot without committing them to
the repo.</li>
</ol>
</li>
<li>
<p>The working copy doesn’t have dot files, rather they are stored in
~/.svk (by default). Makes for much cleaner working copies. This
also makes it so that you can use svk as a quick and dirty
deployment tool as the working copies are clean.</p>
</li>
</ol>
<h2 id="the-25-different-ways-of-using-svk">The 2.5 different ways of using SVK.</h2>
<p>For practical use the terms depot and mirror are often the same. While
they aren’t completely synonymous they are somewhat used
interchangeably. A depot can contain many mirrors.</p>
<h4 id="standard-subversion-approach">Standard Subversion Approach</h4>
<p>You can use it like Subversion with the additional benefit of tracking
all branching and merges. In this case the mirror becomes transparent.</p>
<h4 id="distributed-approach">Distributed Approach</h4>
<p>You can use it as a <a href="http://en.wikipedia.org/wiki/Distributed_revision_control" title="Distributed revision control">distributed version
control</a>.
Using this approach the mirror is the key. It can be a bit hard to get
used to, especially if you are used to SVN
or <a href="http://www.nongnu.org/cvs" title="Concurrent Versions System">CVS</a>.
However stick with it, it has a lot of benefits. Not only does it
provide offline functionality, but it also provides local versioning.</p>
<h4 id="distributed-with-local-branch-approach">Distributed with local branch approach.</h4>
<p>When using SVK in mirror mode you can also optionally branch locally
without branching on the server (this is the 1/2). This is especially
useful when you are working on a project where you don’t have write
access to
the <a href="http://en.wikipedia.org/wiki/Repository" title="Repository">repository</a>.
This way you can manage your versions (and keep up with the repository)
and submit a patch when you have a change ready.</p>
<h2 id="subversion-mode">Subversion Mode</h2>
<p>When using this approach the typical routine is “pull” (optionally when
in branch), “update”, “modify”, “commit” repeat until ready to “push”
(optionally when in branch).</p>
<h4 id="checkout-directly-from-the-repository">Checkout directly from the repository.</h4>
<pre><code>svk co [repository] [local wc path]
svk co http://host/svn/project ./code
</code></pre>
<p>svk ci , svk add, svk up just like subversion. See the common operations
for branching, pulling and pushing.</p>
<h2 id="mirror-mode">Mirror Mode.</h2>
<p>When using this approach the typical routine is “pull” (optionally when
in branch), “sync”, “update”, “modify”, “commit” repeat until ready to
“push” (optionally when in branch).</p>
<h4 id="create-depot">Create Depot</h4>
<p>Start by creating your Depot.</p>
<pre><code>    svk depotmap --init
</code></pre>
<h4 id="mirror-existing-repository">Mirror Existing Repository</h4>
<p>Next Mirror your existing repository. It is a good practice to mirror
the entire repo as it makes things easier down the road and disk space
is cheap. Since every operation under this directory is automatically
(vs manually) synchronized with the remote SVN repository it is usually
a good practice to either work on a branch, either a branch on the
server, or a local branch) and not directly on the mirror.</p>
<pre><code>    svk mirror [repository url] [local depot url]

    example:
    svk mirror svn://HOST/var/svn/repos/Zoop //projects/Zoop
</code></pre>
<h4 id="sync-local-mirror-with-the-repository">Sync local mirror with the repository</h4>
<p>This will sync every commit since you last performed it. If it is the
first time you are running the command it may take a while depending on
how many revisions are in your project.</p>
<pre><code>    svk sync //projects/friends
</code></pre>
<h4 id="check-out-working-copy-from-local-mirror">Check out working copy from local mirror</h4>
<pre><code>    svk co //projects/friends
</code></pre>
<h4 id="update-working-copy">Update Working Copy</h4>
<p>To get changes from the mirror into your working copy.</p>
<pre><code>    svk up
</code></pre>
<h4 id="alt-update-mirror--working-copy">Alt: Update Mirror &amp; Working Copy</h4>
<p>To get changes from the repo through your mirror into your working copy.
Effectively performs a svk sync and then and svk up in one step.</p>
<pre><code>    svk up -s
</code></pre>
<h2 id="mirror-mode--local-branch">Mirror mode + local branch</h2>
<p>When using this approach the typical routine is “sync”, “merge”,
“update”, “modify”, “commit” repeat until ready to “submit”.</p>
<p>Your local branch will live in the depot alongside the mirror.</p>
<h4 id="create-your-local-branch">Create your local branch</h4>
<p>(Assumes you have already followed the mirror steps above through the
sync).</p>
<p><a href="http://en.wikipedia.org/wiki/Branching_%28software%29" title="Branching software">Branching</a>
in SVK is the same as in SVN:</p>
<pre><code>    svk cp //projects/project-mirror //projects/project-local
</code></pre>
<h4 id="check-out-working-copy-from-your-local-branch">Check out working copy from your local branch</h4>
<p>Now you can check out code from your local working branch into your
working directory. For this, follow a similar procedure as that of SVN:</p>
<pre><code>    mkdir project
    svk co //projects/project-local project
    or you can checkout just one branch
    svk co //projects/project-local/trunk project/trunk
</code></pre>
<h4 id="syncing">Syncing</h4>
<p>You will want to keep your mirror in sync with the repo. The operation
is automatic, but requires you to pull the trigger.</p>
<pre><code>    svk sync //projects/project-mirror/
</code></pre>
<h4 id="merging">Merging</h4>
<p>If there are any changes you will likely want to merge them into your
local branch.</p>
<pre><code>    svk smerge //projects/project-mirror/ //projects/project-local/
</code></pre>
<h4 id="updating">Updating</h4>
<p>Lastly update to pull the changes from the depot into your wc.</p>
<pre><code>    svk up
</code></pre>
<h2 id="common-operations">Common operations.</h2>
<h4 id="branching">Branching</h4>
<pre><code>    svk cp [existing_location] [new_location]

    example:
    svk cp http://host/svn/trunk http://host/svn/branches/steve
    or
    svk cp http://host/svn/branches/steve http://host/svn/branches/steve-branches/cleanup-templates
</code></pre>
<h4 id="push-and-pull">Push and Pull</h4>
<p>Pull will import changes from the branch you branched from.<!-- raw HTML omitted -->
Push will send your changes to the branch your branched from.<!-- raw HTML omitted -->
This will happen directly on the repo, unlike smerge which operates
similarly, but on the depot only.</p>
<pre><code>    svk push
    svk pull
</code></pre>
<p>These are meant to be run from within the wc.<!-- raw HTML omitted -->
Following the example above.</p>
<pre><code>$ cd branches/steve-branches/cleanup-templates
</code></pre>
<p><strong>svk push</strong> would merge all changes made in the cleanup-templates
branch to the steve branch.</p>
<p><strong>svk pull</strong> would take all the changes made in the steve branch and
merge them into the cleanup-templates branch.</p>
<p><em>Directory structure isn’t important here, except to keep things sane.</em></p>
<pre><code>$ cd branches/steve
</code></pre>
<p><strong>svk push</strong> would merge all changes made in the steve branch to trunk.</p>
<p><strong>svk pull</strong> would take all the changes made in trunk and merge them
into the steve branch.</p>
<pre><code>$ cd trunk
</code></pre>
<p>can’t push or pull. This is the top level.</p>
<h4 id="many-of-the-standard-svn-commands-are-also-available">Many of the standard svn commands are also available.</h4>
<pre><code>svk add     svk rm     svk mv     svk mkdir     svk status     svk diff
</code></pre>
<h2 id="good-practices">Good Practices</h2>
<p>You should NEVER just ‘svk add *’ and ‘svk commit’ without checking
what you are committing. It shouldn’t be a surprise which files go to
the<!-- raw HTML omitted -->
repository.</p>
<p>The process when ready to commit should be:</p>
<pre><code>   close out all of your open files

   svk up -s # pulls from the repo, not just the mirror
   svk diff  # carefully review your changes
</code></pre>
<p>Then either</p>
<pre><code>   svk commit [ file1 ] [ file2 ]  ... [ filen ]
    or
   svk commit
</code></pre>
<p>without “-m” so you can remove unnecessary files in the commit message
screen.</p>
<h2 id="see-also">See also:</h2>
<ul>
<li><a href="http://goldenspud.com/rotr/index.php/2006/11/29/svk-in-a-nutshell/" title="http://goldenspud.com/rotr/index.php/2006/11/29/svk-in-a-nutshell/">http://goldenspud.com/rotr/index.php/2006/11/29/svk-in-a-nutshell/</a></li>
<li><a href="http://www.opensync.org/wiki/SVK" title="http://www.opensync.org/wiki/SVK">http://www.opensync.org/wiki/SVK</a></li>
</ul>

        </article>
  </div>
</section>



<aside id="meta">

    <div>
        <section id="datecount">
          <h4 id="date"> Sat Aug 23, 2008 </h4>
          <h5 id="wc"> 1200 Words </h5>
          <h5 id="readtime"> Read in about 6 Min </h5>
        </section>
        <ul id="categories">
          
            <li><a href="http://jlab.github.io//topics/Development">Development</a> </li>
          
            <li><a href="http://jlab.github.io//topics/Systems">Systems</a> </li>
          
        </ul>
        <ul id="tags">
          
            <li> <a href="http://jlab.github.io//tags/git">git</a> </li>
          
            <li> <a href="http://jlab.github.io//tags/subversion">subversion</a> </li>
          
            <li> <a href="http://jlab.github.io//tags/svk">svk</a> </li>
          
            <li> <a href="http://jlab.github.io//tags/svn">svn</a> </li>
          
        </ul>
    </div>

    <div>
        <section id="prev">
            &nbsp;<a class="previous" href="http://jlab.github.io/post/why-are-you-not-on-twitter/"><i class="icon-arrow-left"></i> Why are you not on Twitter</a><br>
        </section><section id="next">
            &nbsp;<a class="next" href="http://jlab.github.io/post/why-are-you-still-shopping-offline/">Why are you still shopping offline? <i class="icon-arrow-right"></i></a>
        </section>
    </div>

    <div> <section id="author"> <h4>About the Author:</h4> 

            <p>
            Steve Francia is an American Software Engineer, Speaker & Author
            based in NYC. He has the unique distinction of 
            leadership roles in five of the largest open source projects. 
            </p>

            <p>
            He currently works at <a href="http://google.com">Google</a> on the leadership team 
            of <a href="http://golang.org">the Go
                language</a> where  he is responsible for the strategy and product of
            the Go project and it's over 1M users.
            </p>

            <p>
            He previously held executive roles at <a href="http://docker.com">Docker</a>, <a
            href="http://mongodb.com">MongoDB</a> where he
            led engineering, product and open source. 
            He formerly was a director of the <a href="http://drupal.org">Drupal Association</a>.
            </p>
            
            <p> 
            He is the creator of some of the world's most popular open source applications and libraries including <a href="http://gohugo.io">Hugo</a>, <a
                href="http://github.com/spf13/cobra">Cobra</a>, <a
                href="http://github.com/spf13/viper">Viper</a>, <a
            href="http://vim.spf13.com">spf13-vim</a> and many <a
            href="http://github.com/spf13">more</a>.
            </p>
            
            <p>
            Above all of these accomplishments, he is a father of 4. 
            Outside of technology Steve likes travel, skateboarding, punk rock, and dystopian films.
            </p>

        </section> </div>

</aside>

<meta itemprop="wordCount" content="1154">
<meta itemprop="datePublished" content="2008-08-23">
<meta itemprop="url" content="http://jlab.github.io/post/using-svk-to-increase-productivity/">



<footer>
  <div>
    <p>
    &copy; 2013-19 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Steve Francia.</span></span>
    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons Attribution">Some rights reserved</a>;
    please attribute properly and link back. <br>
    Powered by <a href="http://gohugo.io">Hugo</a>.
    </p>
  </div>
</footer>
<script type="text/javascript">
(function(){var j=function(a,b){return window.getComputedStyle?getComputedStyle(a).getPropertyValue(b):a.currentStyle[b]};var k=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent('on'+b,c)};var l=function(a,b){for(key in b)if(b.hasOwnProperty(key))a[key]=b[key];return a};window.fitText=function(d,e,f){var g=l({'minFontSize':-1/0,'maxFontSize':1/0},f);var h=function(a){var b=e||1;var c=function(){a.style.fontSize=Math.max(Math.min(a.clientWidth/(b*10),parseFloat(g.maxFontSize)),parseFloat(g.minFontSize))+'px'};c();k(window,'resize',c)};if(d.length)for(var i=0;i<d.length;i++)h(d[i]);else h(d);return d}})();
fitText(document.getElementById('title'), 1)
</script>

</body>
</html>

